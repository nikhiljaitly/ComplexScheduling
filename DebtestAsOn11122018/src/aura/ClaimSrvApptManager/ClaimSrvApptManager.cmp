<aura:component implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" 
                access="global"
                controller="ClaimSrvApptManagerController">
    
    <!-- Id of the Claim we are working on -->
    <aura:attribute name="claimId" type="Id" />
    
    <!-- List of Work Orders and Service Appointments we are working on -->
    <aura:attribute name="claimServiceData" type="Object" />
    
    <!-- toggle for spinner -->
    <aura:attribute name="isProcessing" type="Boolean" default="false" />
    
    <!-- fire code when component first created -->
    <aura:handler name="init" value="{!this }" action="{!c.init }"/>
    
    <!-- handle application event for a Service Appointment being scheduled in another component -->
    <aura:handler event="c:SvcApptMgrScheduledEvent" action="{!c.handleSvcApptMgrScheduledEvent}"/>
    
    <div style="height: 100%; width: 100%; padding: 5px;">
    	<lightning:card title="Claim Work Orders"
                        iconName="standard:work_order">
                <div style="padding: 5px;">
                    <lightning:tree items="{! v.claimServiceData }" 
                                    header="Service Appointments"
                                    onselect="{! c.handleClaimServiceDataTreeSelect }" />
                </div>        
    	</lightning:card>
    </div>
    
    <aura:if isTrue = "{!v.isProcessing}">
            
            <lightning:spinner alternativeText="Loading" size="medium" />
            
    </aura:if>
	
</aura:component>